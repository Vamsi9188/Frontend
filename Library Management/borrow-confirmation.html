<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management - Borrow Confirmation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <ul id="navbar-items">
            <li><a href="books.html">Books</a></li>
            <li><a href="book-details.html">Book Details</a></li>
            <li><a href="borrow-confirmation.html">Borrow Confirmation</a></li>
            <li><a href="final-details.html">Final Details</a></li>
            <li><a href="#" id="logout">Logout</a></li>
        </ul>
    </nav>
    <div class="container">
        <h2>Borrow Confirmation</h2>
        <form id="borrow-form" action="final-details.html" method="get">
            <label for="student-id">Student ID:</label>
            <input type="text" id="student-id" name="student_id" required>
            <br>
            <label for="student-name">Student Name:</label>
            <input type="text" id="student-name" name="student_name" required>
            <br>
            <label for="book-id">Book ID:</label>
            <input type="text" id="book-id" name="book_id" required>
            <br>
            <label for="book-name">Book Name:</label>
            <input type="text" id="book-name" name="book_name" required>
            <br>
            <label for="author">Author:</label>
            <input type="text" id="author" name="author" required>
            <br>
            <label for="issue-date">Issue Date:</label>
            <input type="date" id="issue-date" name="issue_date" required>
            <br>
            <label for="return-date">Return Date:</label>
            <input type="date" id="return-date" name="return_date" required>
            <br>
            <label for="signature">Signature:</label>
            <input type="text" id="signature" name="signature" required>
            <br>
            <button type="submit" id="confirm-btn">Confirm</button>
        </form>
    </div>

    <script>
        // Function to get query parameters
        function getQueryParams() {
            const params = {};
            const queryString = window.location.search.substring(1);
            const queryArray = queryString.split('&');
            queryArray.forEach(query => {
                const [key, value] = query.split('=');
                params[key] = decodeURIComponent(value);
            });
            return params;
        }

        // Populate the form with the provided data if available
        function populateForm(params) {
            document.getElementById('student-id').value = params.student_id || '';
            document.getElementById('student-name').value = params.student_name || '';
            document.getElementById('book-id').value = params.book_id || '';
            document.getElementById('book-name').value = params.book_name || '';
            document.getElementById('author').value = params.author || '';
            document.getElementById('issue-date').value = params.issue_date || '';
            document.getElementById('return-date').value = params.return_date || '';
            document.getElementById('signature').value = params.signature || '';
        }

        // Get query parameters and populate the form
        const params = getQueryParams();
        populateForm(params);

        // Logout functionality
        document.getElementById('logout').addEventListener('click', function() {
            // Reset navbar items to initial state
            var navbarItems = document.getElementById('navbar-items');
            navbarItems.innerHTML = `
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a href="signup.html">Sign Up</a></li>
                <li><a href="login.html">Login</a></li>
            `;
            // Redirect to login page
            window.location.href = 'login.html';
        });
    </script>
</body>
</html>
