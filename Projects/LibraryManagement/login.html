<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <nav id="original-navbar">
        <a href="####">Home</a>
        <a href="aboutus.html">About Us</a>
        <a href="####">Contact Us</a>
        <a href="signup.html">Sign Up</a>
        <a href="login.html">Login</a>
    </nav>
    <nav id="new-navbar" style="display: none;">
        <a href="####">Books</a>
        <a href="####">Books-Details</a>
        <a href="borrow-confirmation.html">Borrow-Confirmation</a>
        <a href="####">Final-Details</a>
        <a id="logout-btn" href="####">Logout</a>
    </nav>
    <div class="login-form">
        <form id="login-form" style="width:500px; margin: auto;">
            <h1>Login Form</h1>
            <div class="input">
                <i class="fa-solid fa-user"></i>
                <input class="input-field" type="text" placeholder="Username" id="sname" size="48px">
            </div>
            <div class="input">
                <i class="fa-solid fa-lock"></i>
                <input class="input-field" type="password" placeholder="Password" id="password" size="48px">
                <button id="toggle-password" type="button">Show</button>
            </div>
            <button type="submit" class="btn">LOGIN</button>
            <p id="login-message" style="color: green; display: none;">Login successful</p>
        </form>
        <p class="create-account"><span style="color:red;">Not registered?</span>
            <a href="signup.html" style="text-decoration: none; color:royalblue;">Create an account</a>
        </p>
    </div>
    <script>
        // Show and hide password
        const passwordInput = document.getElementById('password');
        const toggleButton = document.getElementById('toggle-password');
        toggleButton.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent form submission
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleButton.textContent = 'Hide';
            } else {
                passwordInput.type = 'password';
                toggleButton.textContent = 'Show';
            }
        });

        // Displaying new navbar
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            // Get student name and password
            var studentName = document.getElementById('sname').value;
            var password = document.getElementById('password').value;
            // Input validation
            if (studentName === '' || password === '') {
                alert('Please fill in both username and password');
                return;
            }
            // Authenticate student (e.g., check against a database or API)
            // For demonstration purposes, assume authentication is successful
            var isAuthenticated = true;
            if (isAuthenticated) {
                // Display successful login message
                var loginMessage = document.getElementById('login-message');
                loginMessage.style.display = 'block';
                // Hide login details after a short delay to allow the message to be seen
                setTimeout(function() {
                    document.querySelector('.login-form').style.display = 'none';
                    // Hide original navbar and show new navbar
                    document.getElementById('original-navbar').style.display = 'none';
                    document.getElementById('new-navbar').style.display = 'block';
                }, 1000);
            } else {
                // Handle authentication failure (e.g., display error message)
                alert('Authentication failed');
            }
        });

        // Logout button click handler
        document.getElementById('logout-btn').addEventListener('click', function() {
            // Hide new navbar
            document.getElementById('new-navbar').style.display = 'none';
            // Show original navbar
            document.getElementById('original-navbar').style.display = 'block';
            document.querySelector('.login-form').style.display = 'block';
            // Clear username and password values
            document.getElementById('sname').value = '';
            document.getElementById('password').value = '';
            // Hide login message
            document.getElementById('login-message').style.display = 'none';
        });
    </script>
</body>
</html>
